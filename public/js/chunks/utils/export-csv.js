(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{LBS4:function(n,t,e){"use strict";e.r(t),e.d(t,"downloadFile",(function(){return g}));var r=e("o0o1"),o=e.n(r);function a(n){return"[object Array]"===Object.prototype.toString.call(n)}function u(n,t){if(!n)throw new Error(t)}function i(n){return Object.keys(n)}function c(n){return Object.keys(n).map((function(t){return[t,n[t]]}))}function l(n,t,e){var r="."+t,o=new RegExp("(\\"+t+")?$");return e(n).replace(o,r)}function f(n,t,e){void 0===e&&(e="download");var r=function(n,t){switch(t){case"txt":return"data:text/plain;charset=utf-8,"+encodeURIComponent(n);case"json":return"data:application/json;charset=utf-8,"+encodeURIComponent(n);case"csv":return"data:text/csv;charset=utf-8,\ufeff"+encodeURIComponent(n);case"xls":return"data:application/vnd.ms-excel;charset=utf-8,"+encodeURIComponent(n);case"xml":return"data:application/xml;charset=utf-8,"+encodeURIComponent(n);default:return""}}(n,t),o=document.createElement("a");o.href=r,o.download=e,o.setAttribute("style","visibility:hidden"),document.body.appendChild(o),o.click(),document.body.removeChild(o)}var d,s=function(){return(s=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}).apply(this,arguments)},p=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,o,a=e.call(n),u=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)u.push(r.value)}catch(n){o={error:n}}finally{try{r&&!r.done&&(e=a.return)&&e.call(a)}finally{if(o)throw o.error}}return u};function v(n){return n.map(c).reduce((function(t,e,r){return e.reduce((function(t,e){var o=p(e,2),a=o[0],u=o[1],i=t[a]||Array.from({length:n.length}).map((function(n){return""}));return i[r]=("string"!=typeof u?JSON.stringify(u):u)||"",t[a]=i,t}),t)}),Object.create(null))}function m(n,t){return void 0===t&&(t=function(n){return n}),t(c(n).map((function(n){var t=p(n,2);return{fieldName:t[0],fieldValues:t[1]}})))}function h(n,t){return void 0===t&&(t=function(n){return n}),n.length?'<html>\n  <head>\n    <meta charset="UTF-8">\n  </head >\n  <body>\n    '+function(n,t){u(n.length>0);var e=m(v(n),t);return"\n    <table>\n      <thead>\n        <tr><th><b>"+e.map((function(n){return n.fieldName})).join("</b></th><th><b>")+"</b></th></tr>\n      </thead>\n      <tbody>\n        <tr>"+e.map((function(n){return n.fieldValues})).map((function(n){return n.map((function(n){return"<td>"+n+"</td>"}))})).reduce((function(n,t){return n.map((function(n,e){return""+n+t[e]}))})).join("</tr>\n        <tr>")+"</tr>\n      </tbody>\n    </table>\n  "}(n,t)+"\n  </body>\n</html >\n":""}function y(n){return'<?xml version="1.0" encoding="utf-8"?><!DOCTYPE base>\n'+function n(t,e,r,o){void 0===r&&(r="element");void 0===o&&(o=0);var u=(l=e,"555xmlHello .  world!".trim().replace(/^([0-9,;]|(xml))+/,""),l.replace(/[^_a-zA-Z 0-9:\-\.]/g,"").replace(/^([ 0-9-:\-\.]|(xml))+/i,"").replace(/ +/g,"-")),i=function(n){return Array(n+1).join(" ")}(o);var l;if(null==t)return i+"<"+u+" />";var f=a(t)?t.map((function(t){return n(t,r,r,o+2)})).join("\n"):"object"==typeof t?c(t).map((function(t){var e=p(t,2),a=e[0],u=e[1];return n(u,a,r,o+2)})).join("\n"):i+"  "+(d=String(t),d.replace(/([<>&])/g,(function(n,t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return""}})));var d;return i+"<"+u+">\n"+f+"\n"+i+"</"+u+">"}(n,"base")+"\n"}function b(n){var t=n.data,e=n.fileName,r=void 0===e?"download":e,o=n.fileNameFormatter,d=void 0===o?function(n){return n.replace(/\s+/,"_")}:o,b=n.fields,x=n.exportType,w=void 0===x?"txt":x,j=n.replacer,g=void 0===j?null:j,O=n.space,N=void 0===O?4:O,S=n.processor,C=void 0===S?f:S,I=n.withBOM,E=void 0!==I&&I,P=n.delimiter,k=void 0===P?",":P,J=n.beforeTableEncode,R=void 0===J?function(n){return n}:J,U="Can't export unknown data type "+w+".",A=function(n){if(!n||a(n)&&!n.length||!a(n)&&!i(n).length)return function(n){return n};var t=a(n)?n.reduce((function(n,t){var e;return s(s({},n),((e={})[t]=t,e))}),Object.create(null)):n;return function(n){return a(n)?n.map((function(n){return c(n).reduce((function(n,e){var r=p(e,2),o=r[0],a=r[1];return o in t&&(n[t[o]]=a),n}),Object.create(null))})).filter((function(n){return i(n).length})):c(n).reduce((function(n,e){var r=p(e,2),o=r[0],a=r[1];return o in t&&(n[t[o]]=a),n}),Object.create(null))}}(b)(function(n){try{return"string"==typeof n?JSON.parse(n):n}catch(n){throw new Error("Invalid export data. Please provide a valid JSON")}}(t)),T=function(n,t,e){void 0===t&&(t=null);try{return JSON.stringify(n,t,e)}catch(n){throw new Error("Invalid export data. Please provide valid JSON object")}}(A,g,N);switch(w){case"txt":return C(T,w,l(r,"txt",d));case"json":return C(T,w,l(r,"json",d));case"csv":u(a(A),"Invalid export data. Please provide an array of object");var F=function(n,t,e){if(void 0===t&&(t=","),void 0===e&&(e=function(n){return n}),!n.length)return"";var r=m(v(n),e);return r.map((function(n){return n.fieldName})).join(t)+"\r\n"+r.map((function(n){return n.fieldValues})).map((function(n){return n.map((function(n){return'"'+n.replace(/\"/g,'""')+'"'}))})).reduce((function(n,e){return n.map((function(n,r){return""+n+t+e[r]}))})).join("\r\n")}(A,k,R);return C(E?"\ufeff"+F:F,w,l(r,"csv",d));case"xls":return u(a(A),"Invalid export data. Please provide an array of object"),C(h(A,R),w,l(r,"xls",d));case"xml":return C(y(A),w,l(r,"xml",d));default:throw new Error(U)}}(d=b||(b={})).types={txt:"txt",json:"json",csv:"csv",xls:"xls",xml:"xml"},d.processors={downloadFile:f};var x=b;function w(n,t,e,r,o,a,u){try{var i=n[a](u),c=i.value}catch(n){return void e(n)}i.done?t(c):Promise.resolve(c).then(r,o)}function j(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function u(n){w(a,r,o,u,i,"next",n)}function i(n){w(a,r,o,u,i,"throw",n)}u(void 0)}))}}function g(n,t){return O.apply(this,arguments)}function O(){return(O=j(o.a.mark((function n(t,e){var r,a=arguments;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=a.length>2&&void 0!==a[2]?a[2]:"download",x({data:t,fileName:r,exportType:e});case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=export-csv.js.map?id=5561e0ad0c70f7dae92c